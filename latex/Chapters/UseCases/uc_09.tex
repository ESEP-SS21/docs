\begin{usecase}{09}{Kalibrierung}{hoch}
    \addTextCollum{Verwandte Requirements}{
        \refreq{11}, \refreq{15}, \refreq{40}
    }
    \addTextCollum{Description}{
        Dieser Usecase betreibt das Durchführen des Servicemode.
        Dieser kann durch \gls{longpress} von \gls{t_start} von beiden Anlagen aus aktiviert werden.
        Im Servicemode werden die Höhenmesser kalibriert sowie die korrekte Funktion der Aussortiermechanismen geprüft.
    }
    \addTextCollum{Actors}{
        Stoplight, Height\_Measurement, Control\_Panel, Sorting\_Mechanism, FTS\_2
    }
    \addCollum{Preconditions}{
        \item System ist im \gls{ruhe-zst}
    }
    \addCollum{Triggers}{
        \item \gls{longpress} von \gls{t_start}
        \item Mitteilung von FTS\_2 über Betreten des Service
    }
    \addCollum{Mainflow}{
        \item[1)] Mitteilung an FTS\_2 über Betreten des Service senden
        \item[2)] Stoplight grün blinken lassen
        \item[3)] Messung bei Height\_Measurement anfragen
        \item[4)] Auf Rückmeldung warten
        \item[5)] Bestimmten Wert als Nullwert im Height\_Measurement eintragen
        \item[6)] Sorting Mechanism aktivieren
        \item[7)] Auf Zustandsänderungssignal des Sorting\_Mechanism warten \textbullet
        \item[8)] Sorting Mechanism deaktivieren
        \item[9)] Auf Zustandsänderungssignal des Sorting\_Mechanism warten \textbullet
        \item[10)] In \gls{ruhe-zst} wechseln
    }
    \addCollum{Exceptional flow}{
    \item at step 6 or 8 of Mainflow
    \item[1)] Timeout beim Empfang des Signals
    \item[2)] Fehler auslösen
    }
    \addCollum{Postconditions}{
        \item[1)] System ist im \gls{ruhe-zst}
        \item[2)] Height\_Measurement wurde kalibriert
    }

\end{usecase}
