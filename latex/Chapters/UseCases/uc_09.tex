\begin{usecase}{09}{Kalibrierung}{hoch}
    \addTextCollum{Verwandte Requirements}{
        \refreq{11}, \refreq{15}, \refreq{40}
    }
    \addTextCollum{Description}{
        Dieser Usecase betreibt das Durchführen des Servicemode.
        Dieser kann durch das \gls{longpress} des \gls{t_start} von beiden \glspl{anlage} aus aktiviert werden.
        Im Servicemode werden die Höhenmesser kalibriert sowie die korrekte Funktion der \gls{sortierer} geprüft.
    }
    \addTextCollum{Actors}{
        \gls{ampel}, \gls{he_sensor}, \gls{ctrlp}, \gls{sortierer}, \gls{fts2}
    }
    \addCollum{Preconditions}{
        \item \gls{system} ist im \gls{ruhe-zst}
    }
    \addCollum{Triggers}{
        \item \gls{longpress} von \gls{t_start}
        \item Mitteilung von \gls{fts2} über Betreten des Service
        \item \gls{longpress} von \gls{t_start}
        \item Mitteilung von FTS\_2 über Betreten des Service
    }
    \addCollum{Mainflow}{
        \item[1)] Mitteilung an \gls{fts2} über Betreten des Service senden
        \item[2)] \gls{ampelled} grün blinken lassen
        \item[3)] Messung bei \gls{he_sensor} anfragen
        \item[4)] Auf Rückmeldung warten
        \item[5)] Bestimmten Wert als Nullwert im \gls{he_sensor} eintragen
        \item[6)] Sorting Mechanism aktivieren
        \item[7)] Auf Zustandsänderungssignal des \gls{sortierer}s warten \textbullet
        \item[8)] Sorting Mechanism deaktivieren
        \item[9)] Auf Zustandsänderungssignal des \gls{sortierer}s warten \textbullet
        \item[10)] In \gls{ruhe-zst} wechseln
    }
    \addCollum{Exceptional flow}{
    \item at step 6 or 8 of Mainflow
    \item[1)] Timeout beim Empfang des Signals
    \item[2)] Fehler auslösen
    }
    \addCollum{Postconditions}{
        \item[1)] \gls{system} ist im \gls{ruhe-zst}
        \item[2)] \gls{he_sensor} wurde kalibriert
    }

\end{usecase}
